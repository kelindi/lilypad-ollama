{
  "machine": {
    "gpu": 1,
    "cpu": 8000,
    "ram": 16000
  },
  "job": {
    "APIVersion": "V1beta1",
    "Spec": {
      "Deal": {
        "Concurrency": 1
      },
      "Docker": {
        "Entrypoint": [
          "/app/model.sh",
          {{- if .Messages }}
            {{- $temp := 0.7 }}
            {{- $tokens := 2048 }}
            {{- if .Temperature }}
              {{- $temp = .Temperature }}
            {{- end }}
            {{- if .MaxTokens }}
              {{- $tokens = .MaxTokens }}
            {{- end }}
            {{ printf "\"{\\\"messages\\\":%s,\\\"temperature\\\":%v,\\\"max_tokens\\\":%v}\"" .Messages $temp $tokens }}
          {{ else }}
            "{{`{\"messages\":[{\"role\":\"user\",\"content\":\"What is bitcoin?\"}],\"temperature\":0.7,\"max_tokens\":2048}`}}"
          {{ end }}
        ],
        "Image": "kelindi/lilypad-ollama-deepseek-r1-1.5b"
      },
      "Engine": "Docker",
      "Network": {
        "Type": "None"
      },
      "Outputs": [
        {
          "Name": "outputs",
          "Path": "/outputs"
        }
      ],
      "PublisherSpec": {
        "Type": "IPFS"
      },
      "Resources": {
        "GPU": "1",
        "cpu": "8",
        "memory": "16Gb"
      },
      "Timeout": 1800,
      "Verifier": "Noop"
    }
  }
}