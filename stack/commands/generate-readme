#!/bin/bash

MODEL_NAME=$1
MODEL_VERSION=$2
IMAGE_NAME="lilypad-ollama-${MODEL_NAME}"

cat > README.md << EOF
# Lilypad ${MODEL_NAME^} ${MODEL_VERSION}

This is a Lilypad module for the ${MODEL_NAME^} ${MODEL_VERSION} model.

## Requirements

- Lilypad CLI
- Docker

## Setup

1. Clone the repository
2. Build the Docker image

\`\`\`bash
./stack build ${MODEL_NAME} ${MODEL_VERSION}
\`\`\`

3. Tag and push the image
\`\`\`bash
./stack push ${IMAGE_NAME}:latest <your-dockerhub-username>
\`\`\`

## Usage

Test locally with Docker:

\`\`\`bash
./stack run ${IMAGE_NAME}:latest '{"messages": [{"role": "user", "content": "Tell me about black holes"}]}'
\`\`\`

Run on the Lilypad Network:

\`\`\`bash
lilypad run <your-dockerhub-username>/${IMAGE_NAME}:latest \\
  --Messages '[{"role": "user", "content": "What is bitcoin?"}]'
\`\`\`
EOF 